(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

/**
 * Config options:

   sel: '.my-class', // CSS target selector
   effect: 'move:fade-up', // Animation effect
   distance: 40, // How many pixels the element moves while animating in px
   duration: 1000, // Animation duration in ms
   delay: 0, // Adds a delay before the animation happens

   sequence: 'mySequence', // Group elements to animate in a sequence 
   sequenceDelay: 250 // Amount of increasing delay between sequence items (excludes first item, which uses delay instead)

 * Available effects (sass/iopmotion.scss):
   Fade: fade-up, fade-down, fade-left, fade-right
   Slide: slide-up, slide-down, slide-left, slide-right
 */
var moveTargets = [{
  sel: '.exampleSequence > div',
  sequence: 'exampleSequence',
  sequenceDelay: 500
}, {
  sel: '.header li',
  effect: 'slide-left',
  sequence: 'header-lists'
}, {
  sel: 'img',
  sequence: '1',
  delay: 250
}, {
  sequence: '2',
  sel: '.sequence p',
  effect: 'fade-up',
  delay: 100
}, {
  sequence: '2',
  sel: 'li',
  effect: 'fade-right',
  delay: 100
}, {
  sequence: '2',
  sel: '.nosequence p, .nosequence div',
  duration: 1000,
  distance: 20,
  effect: 'fade-down'
}];
module.exports = moveTargets;

},{}],2:[function(require,module,exports){
"use strict";

var config = require('./iopmotion_config.js');

var defaults = config.defaults;
var targets = config.targets;
/**
 * Set up Observers
 */
// Activate element animation

function animateElement(t, observer) {
  t.classList.add(defaults.effectPrefix + defaults.activeClass);
  observer.unobserve(t);
}

var observerCallback = function observerCallback(entries, observer) {
  // Resets each time a new group of sequenced entries enters the viewport
  var previousSequence = {};
  var previousDelay = 250;
  entries.forEach(function (entry) {
    var t = entry.target;
    var seqGroup = t.getAttribute('data-motion-seqgroup');
    var seqDelay = t.getAttribute('data-motion-seqdelay');

    if (entry.isIntersecting) {
      /**
       * Process sequencing
       * 
       * 1) A sequence only applies to visible elements, in batches, as they enter the viewport.
       * 2) Elements are grouped by individual sequence groups,
       * preventing multiple concurrent sequences from overlapping eachothers parameters
       */
      if (seqGroup) {
        var previousSequenceEntry = previousSequence[seqGroup]; // Increase the delay for the current item, based on last item's delay

        if (previousSequenceEntry) {
          previousDelay = getComputedStyle(previousSequenceEntry).getPropertyValue('--delay');
          t.style.setProperty('--delay', Number(previousDelay) + Number(seqDelay));
        }

        previousSequence[seqGroup] = t;
      }

      animateElement(t, observer);
    }
    /**
     * (!) Edge case
     * If a user entered the page already scrolled down (i.e. from an anchor link)
     * then cancel animations on all elements that are outside the viewport upwards.
     * We do this because animations just don't look great when scrolling up.
     * 
     * (+) Consider implementing reversed animations logic.
     */
    else if (entry.boundingClientRect.top < 0 && !entry.isIntersecting) {
      t.style.setProperty('--delay', 0);
      t.style.setProperty('--duration', 0);
      animateElement(t, observer);
    }
  });
};

var observer = new IntersectionObserver(observerCallback, {});
/**
 * Apply setting to all @targets
 * and send them to @observer
 */

var groupedSelectors = {};
targets.forEach(function (t) {
  var sel = t.sel;
  var els = document.querySelectorAll(sel);
  if (!els.length) return false;
  var tSequence = t.sequence;
  els.forEach(function (elm) {
    var effect = elm.getAttribute('data-motion-effect') || t.effect || defaults.effect;
    var distance = elm.getAttribute('data-motion-distance') || t.distance || defaults.distance;
    var duration = elm.getAttribute('data-motion-duration') || t.duration || defaults.duration;
    var delay = elm.getAttribute('data-motion-delay') || t.delay || defaults.delay;
    var seqDelay = elm.getAttribute('data-motion-seqdelay') || t.sequenceDelay || defaults.sequenceDelay;
    elm.style.setProperty('--distance', distance);
    elm.style.setProperty('--duration', duration);
    elm.style.setProperty('--delay', delay);

    if (tSequence) {
      elm.setAttribute('data-motion-seqgroup', tSequence);
      elm.setAttribute('data-motion-seqdelay', seqDelay);
    }

    ;
    elm.classList.add(defaults.effectPrefix + effect);
  });

  if (tSequence) {
    if (groupedSelectors[tSequence]) groupedSelectors[tSequence].push(sel);else groupedSelectors[tSequence] = [sel];
  } else {
    if (groupedSelectors['nosequence']) groupedSelectors['nosequence'].push(sel);else groupedSelectors['nosequence'] = [sel];
  }
});
/**
 * Loop through grouped targets belonging to the same sequence.
 * 
 * This enables multiple targets with independent configurations
 * to belong to the same main sequence.
 * (by applying the same sequence id in the target config)
 * 
 * E.g. sequence: 'footerAnimations'
 */

for (var i in groupedSelectors) {
  var selector = groupedSelectors[i].join(',');
  var els = document.querySelectorAll(selector);
  els.forEach(function (elm) {
    observer.observe(elm);
  });
}

},{"./iopmotion_config.js":3}],3:[function(require,module,exports){
"use strict";

var userTargets = require('../animations.js');
/**
 * Set Default Settings
 * 
 * Effects:
 * fade-up, fade-down, fade-left, fade-right
 * slide-up, slide-down, slide-left, slide-right
*/


var defaults = {
  effectPrefix: 'move:',
  activeClass: 'inview',
  effect: 'fade-up',
  distance: 40,
  // px
  duration: 1000,
  // ms
  delay: 0,
  // ms
  sequence: false,
  sequenceDelay: 250 // increasing delay between sequence items (excludes first item, which uses delay instead+)

};
/**
 * Set Default Selectors
 * 
 * Usage
 * <div data-motion-effect="${effect}" />
 * 
 * Effects:
 * fade-up, fade-down, fade-left, fade-right
 * slide-up, slide-down, slide-left, slide-right
*/

var builtInTargets = [{
  sel: '[data-motion]'
}];
module.exports = {
  defaults: defaults,
  targets: builtInTargets.concat(userTargets)
};

},{"../animations.js":1}],4:[function(require,module,exports){
"use strict";

/**
 * main.js - JS entry point
 * 
 * Ideally this file is used only for requiring 
 * the different modules that make up this application.
 * 
 * Compiles to bundle.js
 */
require('./lib/iopmotion.js');

},{"./lib/iopmotion.js":2}]},{},[4])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYXNzZXRzL2pzL2FuaW1hdGlvbnMuanMiLCJzcmMvYXNzZXRzL2pzL2xpYi9pb3Btb3Rpb24uanMiLCJzcmMvYXNzZXRzL2pzL2xpYi9pb3Btb3Rpb25fY29uZmlnLmpzIiwic3JjL2Fzc2V0cy9qcy9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLElBQU0sV0FBVyxHQUFHLENBQ2xCO0FBQ0UsRUFBQSxHQUFHLEVBQUUsd0JBRFA7QUFFRSxFQUFBLFFBQVEsRUFBRSxpQkFGWjtBQUdFLEVBQUEsYUFBYSxFQUFFO0FBSGpCLENBRGtCLEVBUWxCO0FBQ0UsRUFBQSxHQUFHLEVBQUUsWUFEUDtBQUVFLEVBQUEsTUFBTSxFQUFFLFlBRlY7QUFHRSxFQUFBLFFBQVEsRUFBRTtBQUhaLENBUmtCLEVBY2xCO0FBQ0UsRUFBQSxHQUFHLEVBQUUsS0FEUDtBQUVFLEVBQUEsUUFBUSxFQUFFLEdBRlo7QUFHRSxFQUFBLEtBQUssRUFBRTtBQUhULENBZGtCLEVBb0JsQjtBQUNFLEVBQUEsUUFBUSxFQUFFLEdBRFo7QUFFRSxFQUFBLEdBQUcsRUFBRSxhQUZQO0FBR0UsRUFBQSxNQUFNLEVBQUUsU0FIVjtBQUlFLEVBQUEsS0FBSyxFQUFFO0FBSlQsQ0FwQmtCLEVBMEJsQjtBQUNFLEVBQUEsUUFBUSxFQUFFLEdBRFo7QUFFRSxFQUFBLEdBQUcsRUFBRSxJQUZQO0FBR0UsRUFBQSxNQUFNLEVBQUUsWUFIVjtBQUlFLEVBQUEsS0FBSyxFQUFFO0FBSlQsQ0ExQmtCLEVBZ0NsQjtBQUNFLEVBQUEsUUFBUSxFQUFFLEdBRFo7QUFFRSxFQUFBLEdBQUcsRUFBRSxnQ0FGUDtBQUdFLEVBQUEsUUFBUSxFQUFFLElBSFo7QUFJ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O0FBRVYsRUFBQSxRQUFRLEVBQUUsS0FUSztBQVVmLEVBQUEsYUFBYSxFQUFFLEdBVkEsQ0FVSTs7QUFWSixDQUFqQjtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQU0sY0FBYyxHQUFHLENBQ3JCO0FBQ0UsRUFBQSxHQUFHLEVBQUU7QUFEUCxDQURxQixDQUF2QjtBQU1BLE1BQU0sQ0FBQyxPQUFQLEdBQWlCO0FBQ2YsRUFBQSxRQUFRLEVBQUUsUUFESztBQUVmLEVBQUEsT0FBTyxFQUFFLGNBQWMsQ0FBQyxNQUFmLENBQXNCLFdBQXRCO0FBRk0sQ0FBakI7Ozs7O0FDeENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSxPQUFPLENBQUMsb0JBQUQsQ0FBUCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qKlxyXG4gKiBDb25maWcgb3B0aW9uczpcclxuXHJcbiAgIHNlbDogJy5teS1jbGFzcycsIC8vIENTUyB0YXJnZXQgc2VsZWN0b3JcclxuICAgZWZmZWN0OiAnbW92ZTpmYWRlLXVwJywgLy8gQW5pbWF0aW9uIGVmZmVjdFxyXG4gICBkaXN0YW5jZTogNDAsIC8vIEhvdyBtYW55IHBpeGVscyB0aGUgZWxlbWVudCBtb3ZlcyB3aGlsZSBhbmltYXRpbmcgaW4gcHhcclxuICAgZHVyYXRpb246IDEwMDAsIC8vIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtc1xyXG4gICBkZWxheTogMCwgLy8gQWRkcyBhIGRlbGF5IGJlZm9yZSB0aGUgYW5pbWF0aW9uIGhhcHBlbnNcclxuXHJcbiAgIHNlcXVlbmNlOiAnbXlTZXF1ZW5jZScsIC8vIEdyb3VwIGVsZW1lbnRzIHRvIGFuaW1hdGUgaW4gYSBzZXF1ZW5jZSBcclxuICAgc2VxdWVuY2VEZWxheTogMjUwIC8vIEFtb3VudCBvZiBpbmNyZWFzaW5nIGRlbGF5IGJldHdlZW4gc2VxdWVuY2UgaXRlbXMgKGV4Y2x1ZGVzIGZpcnN0IGl0ZW0sIHdoaWNoIHVzZXMgZGVsYXkgaW5zdGVhZClcclxuXHJcbiAqIEF2YWlsYWJsZSBlZmZlY3RzIChzYXNzL2lvcG1vdGlvbi5zY3NzKTpcclxuICAgRmFkZTogZmFkZS11cCwgZmFkZS1kb3duLCBmYWRlLWxlZnQsIGZhZGUtcmlnaHRcclxuICAgU2xpZGU6IHNsaWRlLXVwLCBzbGlkZS1kb3duLCBzbGlkZS1sZWZ0LCBzbGlkZS1yaWdodFxyXG4gKi9cclxuXHJcbmNvbnN0IG1vdmVUYXJnZXRzID0gW1xyXG4gIHtcclxuICAgIHNlbDogJy5leGFtcGxlU2VxdWVuY2UgPiBkaXYnLFxyXG4gICAgc2VxdWVuY2U6ICdleGFtcGxlU2VxdWVuY2UnLFxyXG4gICAgc2VxdWVuY2VEZWxheTogNTAwXHJcbiAgfSxcclxuXHJcblxyXG4gIHtcclxuICAgIHNlbDogJy5oZWFkZXIgbGknLFxyXG4gICAgZWZmZWN0OiAnc2xpZGUtbGVmdCcsXHJcbiAgICBzZXF1ZW5jZTogJ2hlYWRlci1saXN0cydcclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzZWw6ICdpbWcnLFxyXG4gICAgc2VxdWVuY2U6ICcxJyxcclxuICAgIGRlbGF5OiAyNTBcclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzZXF1ZW5jZTogJzInLFxyXG4gICAgc2VsOiAnLnNlcXVlbmNlIHAnLFxyXG4gICAgZWZmZWN0OiAnZmFkZS11cCcsXHJcbiAgICBkZWxheTogMTAwXHJcbiAgfSxcclxuICB7XHJcbiAgICBzZXF1ZW5jZTogJzInLFxyXG4gICAgc2VsOiAnbGknLFxyXG4gICAgZWZmZWN0OiAnZmFkZS1yaWdodCcsXHJcbiAgICBkZWxheTogMTAwXHJcbiAgfSxcclxuICB7XHJcbiAgICBzZXF1ZW5jZTogJzInLFxyXG4gICAgc2VsOiAnLm5vc2VxdWVuY2UgcCwgLm5vc2VxdWVuY2UgZGl2JyxcclxuICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgZGlzdGFuY2U6IDIwLFxyXG4gICAgZWZmZWN0OiAnZmFkZS1kb3duJyxcclxuICB9XHJcbl07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG1vdmVUYXJnZXRzO1xyXG4iLCJjb25zdCBjb25maWcgPSByZXF1aXJlKCcuL2lvcG1vdGlvbl9jb25maWcuanMnKTtcclxuY29uc3QgZGVmYXVsdHMgPSBjb25maWcuZGVmYXVsdHM7XHJcbmNvbnN0IHRhcmdldHMgPSBjb25maWcudGFyZ2V0cztcclxuXHJcbi8qKlxyXG4gKiBTZXQgdXAgT2JzZXJ2ZXJzXHJcbiAqL1xyXG5cclxuLy8gQWN0aXZhdGUgZWxlbWVudCBhbmltYXRpb25cclxuZnVuY3Rpb24gYW5pbWF0ZUVsZW1lbnQodCwgb2JzZXJ2ZXIpIHtcclxuICB0LmNsYXNzTGlzdC5hZGQoZGVmYXVsdHMuZWZmZWN0UHJlZml4ICsgZGVmYXVsdHMuYWN0aXZlQ2xhc3MpO1xyXG4gIG9ic2VydmVyLnVub2JzZXJ2ZSh0KTtcclxufVxyXG5cclxubGV0IG9ic2VydmVyQ2FsbGJhY2sgPSAoZW50cmllcywgb2JzZXJ2ZXIpID0+IHtcclxuICAvLyBSZXNldHMgZWFjaCB0aW1lIGEgbmV3IGdyb3VwIG9mIHNlcXVlbmNlZCBlbnRyaWVzIGVudGVycyB0aGUgdmlld3BvcnRcclxuICBsZXQgcHJldmlvdXNTZXF1ZW5jZSA9IHt9O1xyXG4gIGxldCBwcmV2aW91c0RlbGF5ID0gMjUwO1xyXG5cclxuICBlbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xyXG4gICAgbGV0IHQgPSBlbnRyeS50YXJnZXQ7XHJcbiAgICBsZXQgc2VxR3JvdXAgPSB0LmdldEF0dHJpYnV0ZSgnZGF0YS1tb3Rpb24tc2VxZ3JvdXAnKTtcclxuICAgIGxldCBzZXFEZWxheSA9IHQuZ2V0QXR0cmlidXRlKCdkYXRhLW1vdGlvbi1zZXFkZWxheScpO1xyXG5cclxuICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xyXG4gICAgICAvKipcclxuICAgICAgICogUHJvY2VzcyBzZXF1ZW5jaW5nXHJcbiAgICAgICAqIFxyXG4gICAgICAgKiAxKSBBIHNlcXVlbmNlIG9ubHkgYXBwbGllcyB0byB2aXNpYmxlIGVsZW1lbnRzLCBpbiBiYXRjaGVzLCBhcyB0aGV5IGVudGVyIHRoZSB2aWV3cG9ydC5cclxuICAgICAgICogMikgRWxlbWVudHMgYXJlIGdyb3VwZWQgYnkgaW5kaXZpZHVhbCBzZXF1ZW5jZSBncm91cHMsXHJcbiAgICAgICAqIHByZXZlbnRpbmcgbXVsdGlwbGUgY29uY3VycmVudCBzZXF1ZW5jZXMgZnJvbSBvdmVybGFwcGluZyBlYWNob3RoZXJzIHBhcmFtZXRlcnNcclxuICAgICAgICovXHJcbiAgICAgIGlmIChzZXFHcm91cCkge1xyXG4gICAgICAgIGxldCBwcmV2aW91c1NlcXVlbmNlRW50cnkgPSBwcmV2aW91c1NlcXVlbmNlW3NlcUdyb3VwXTtcclxuXHJcbiAgICAgICAgLy8gSW5jcmVhc2UgdGhlIGRlbGF5IGZvciB0aGUgY3VycmVudCBpdGVtLCBiYXNlZCBvbiBsYXN0IGl0ZW0ncyBkZWxheVxyXG4gICAgICAgIGlmIChwcmV2aW91c1NlcXVlbmNlRW50cnkpIHtcclxuICAgICAgICAgIHByZXZpb3VzRGVsYXkgPSBnZXRDb21wdXRlZFN0eWxlKHByZXZpb3VzU2VxdWVuY2VFbnRyeSkuZ2V0UHJvcGVydHlWYWx1ZSgnLS1kZWxheScpO1xyXG4gICAgICAgICAgdC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1kZWxheScsIChOdW1iZXIocHJldmlvdXNEZWxheSkgKyBOdW1iZXIoc2VxRGVsYXkpKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcmV2aW91c1NlcXVlbmNlW3NlcUdyb3VwXSA9IHQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFuaW1hdGVFbGVtZW50KHQsIG9ic2VydmVyKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqICghKSBFZGdlIGNhc2VcclxuICAgICAqIElmIGEgdXNlciBlbnRlcmVkIHRoZSBwYWdlIGFscmVhZHkgc2Nyb2xsZWQgZG93biAoaS5lLiBmcm9tIGFuIGFuY2hvciBsaW5rKVxyXG4gICAgICogdGhlbiBjYW5jZWwgYW5pbWF0aW9ucyBvbiBhbGwgZWxlbWVudHMgdGhhdCBhcmUgb3V0c2lkZSB0aGUgdmlld3BvcnQgdXB3YXJkcy5cclxuICAgICAqIFdlIGRvIHRoaXMgYmVjYXVzZSBhbmltYXRpb25zIGp1c3QgZG9uJ3QgbG9vayBncmVhdCB3aGVuIHNjcm9sbGluZyB1cC5cclxuICAgICAqIFxyXG4gICAgICogKCspIENvbnNpZGVyIGltcGxlbWVudGluZyByZXZlcnNlZCBhbmltYXRpb25zIGxvZ2ljLlxyXG4gICAgICovXHJcbiAgICBlbHNlIGlmIChlbnRyeS5ib3VuZGluZ0NsaWVudFJlY3QudG9wIDwgMCAmJiAhZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcclxuICAgICAgdC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1kZWxheScsIDApO1xyXG4gICAgICB0LnN0eWxlLnNldFByb3BlcnR5KCctLWR1cmF0aW9uJywgMCk7XHJcbiAgICAgIGFuaW1hdGVFbGVtZW50KHQsIG9ic2VydmVyKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbmxldCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihvYnNlcnZlckNhbGxiYWNrLCB7fSk7XHJcblxyXG5cclxuLyoqXHJcbiAqIEFwcGx5IHNldHRpbmcgdG8gYWxsIEB0YXJnZXRzXHJcbiAqIGFuZCBzZW5kIHRoZW0gdG8gQG9ic2VydmVyXHJcbiAqL1xyXG5cclxubGV0IGdyb3VwZWRTZWxlY3RvcnMgPSB7fTtcclxuXHJcbnRhcmdldHMuZm9yRWFjaCh0ID0+IHtcclxuICBsZXQgc2VsID0gdC5zZWw7XHJcbiAgbGV0IGVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsKTtcclxuXHJcbiAgaWYgKCFlbHMubGVuZ3RoKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gIGxldCB0U2VxdWVuY2UgPSB0LnNlcXVlbmNlO1xyXG5cclxuICBlbHMuZm9yRWFjaChlbG0gPT4ge1xyXG4gICAgbGV0IGVmZmVjdCA9IGVsbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbW90aW9uLWVmZmVjdCcpIHx8IHQuZWZmZWN0IHx8IGRlZmF1bHRzLmVmZmVjdDtcclxuICAgIGxldCBkaXN0YW5jZSA9IGVsbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbW90aW9uLWRpc3RhbmNlJykgfHwgdC5kaXN0YW5jZSB8fCBkZWZhdWx0cy5kaXN0YW5jZTtcclxuICAgIGxldCBkdXJhdGlvbiA9IGVsbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbW90aW9uLWR1cmF0aW9uJykgfHwgdC5kdXJhdGlvbiB8fCBkZWZhdWx0cy5kdXJhdGlvbjtcclxuICAgIGxldCBkZWxheSA9IGVsbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbW90aW9uLWRlbGF5JykgfHwgdC5kZWxheSB8fCBkZWZhdWx0cy5kZWxheTtcclxuICAgIGxldCBzZXFEZWxheSA9IGVsbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbW90aW9uLXNlcWRlbGF5JykgfHwgdC5zZXF1ZW5jZURlbGF5IHx8IGRlZmF1bHRzLnNlcXVlbmNlRGVsYXk7XHJcblxyXG4gICAgZWxtLnN0eWxlLnNldFByb3BlcnR5KCctLWRpc3RhbmNlJywgZGlzdGFuY2UpO1xyXG4gICAgZWxtLnN0eWxlLnNldFByb3BlcnR5KCctLWR1cmF0aW9uJywgZHVyYXRpb24pO1xyXG4gICAgZWxtLnN0eWxlLnNldFByb3BlcnR5KCctLWRlbGF5JywgZGVsYXkpO1xyXG5cclxuICAgIGlmICh0U2VxdWVuY2UpIHtcclxuICAgICAgZWxtLnNldEF0dHJpYnV0ZSgnZGF0YS1tb3Rpb24tc2VxZ3JvdXAnLCB0U2VxdWVuY2UpO1xyXG4gICAgICBlbG0uc2V0QXR0cmlidXRlKCdkYXRhLW1vdGlvbi1zZXFkZWxheScsIHNlcURlbGF5KTtcclxuICAgIH07XHJcblxyXG4gICAgZWxtLmNsYXNzTGlzdC5hZGQoZGVmYXVsdHMuZWZmZWN0UHJlZml4ICsgZWZmZWN0KTtcclxuICB9KTtcclxuXHJcbiAgaWYgKHRTZXF1ZW5jZSkge1xyXG4gICAgaWYgKGdyb3VwZWRTZWxlY3RvcnNbdFNlcXVlbmNlXSkgZ3JvdXBlZFNlbGVjdG9yc1t0U2VxdWVuY2VdLnB1c2goc2VsKTtcclxuICAgIGVsc2UgZ3JvdXBlZFNlbGVjdG9yc1t0U2VxdWVuY2VdID0gW3NlbF07XHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgaWYgKGdyb3VwZWRTZWxlY3RvcnNbJ25vc2VxdWVuY2UnXSkgZ3JvdXBlZFNlbGVjdG9yc1snbm9zZXF1ZW5jZSddLnB1c2goc2VsKTtcclxuICAgIGVsc2UgZ3JvdXBlZFNlbGVjdG9yc1snbm9zZXF1ZW5jZSddID0gW3NlbF07XHJcbiAgfVxyXG59KTtcclxuXHJcblxyXG4vKipcclxuICogTG9vcCB0aHJvdWdoIGdyb3VwZWQgdGFyZ2V0cyBiZWxvbmdpbmcgdG8gdGhlIHNhbWUgc2VxdWVuY2UuXHJcbiAqIFxyXG4gKiBUaGlzIGVuYWJsZXMgbXVsdGlwbGUgdGFyZ2V0cyB3aXRoIGluZGVwZW5kZW50IGNvbmZpZ3VyYXRpb25zXHJcbiAqIHRvIGJlbG9uZyB0byB0aGUgc2FtZSBtYWluIHNlcXVlbmNlLlxyXG4gKiAoYnkgYXBwbHlpbmcgdGhlIHNhbWUgc2VxdWVuY2UgaWQgaW4gdGhlIHRhcmdldCBjb25maWcpXHJcbiAqIFxyXG4gKiBFLmcuIHNlcXVlbmNlOiAnZm9vdGVyQW5pbWF0aW9ucydcclxuICovXHJcblxyXG5cclxuZm9yICh2YXIgaSBpbiBncm91cGVkU2VsZWN0b3JzKSB7XHJcbiAgbGV0IHNlbGVjdG9yID0gZ3JvdXBlZFNlbGVjdG9yc1tpXS5qb2luKCcsJyk7XHJcbiAgbGV0IGVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xyXG5cclxuICBlbHMuZm9yRWFjaChlbG0gPT4ge1xyXG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShlbG0pO1xyXG4gIH0pO1xyXG59XHJcbiIsImNvbnN0IHVzZXJUYXJnZXRzID0gcmVxdWlyZSgnLi4vYW5pbWF0aW9ucy5qcycpO1xyXG5cclxuLyoqXHJcbiAqIFNldCBEZWZhdWx0IFNldHRpbmdzXHJcbiAqIFxyXG4gKiBFZmZlY3RzOlxyXG4gKiBmYWRlLXVwLCBmYWRlLWRvd24sIGZhZGUtbGVmdCwgZmFkZS1yaWdodFxyXG4gKiBzbGlkZS11cCwgc2xpZGUtZG93biwgc2xpZGUtbGVmdCwgc2xpZGUtcmlnaHRcclxuKi9cclxuXHJcbmNvbnN0IGRlZmF1bHRzID0ge1xyXG4gIGVmZmVjdFByZWZpeDogJ21vdmU6JyxcclxuICBhY3RpdmVDbGFzczogJ2ludmlldycsXHJcblxyXG4gIGVmZmVjdDogJ2ZhZGUtdXAnLFxyXG4gIGRpc3RhbmNlOiA0MCwgLy8gcHhcclxuICBkdXJhdGlvbjogMTAwMCwgLy8gbXNcclxuICBkZWxheTogMCwgLy8gbXNcclxuXHJcbiAgc2VxdWVuY2U6IGZhbHNlLFxyXG4gIHNlcXVlbmNlRGVsYXk6IDI1MCAvLyBpbmNyZWFzaW5nIGRlbGF5IGJldHdlZW4gc2VxdWVuY2UgaXRlbXMgKGV4Y2x1ZGVzIGZpcnN0IGl0ZW0sIHdoaWNoIHVzZXMgZGVsYXkgaW5zdGVhZCspXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXQgRGVmYXVsdCBTZWxlY3RvcnNcclxuICogXHJcbiAqIFVzYWdlXHJcbiAqIDxkaXYgZGF0YS1tb3Rpb24tZWZmZWN0PVwiJHtlZmZlY3R9XCIgLz5cclxuICogXHJcbiAqIEVmZmVjdHM6XHJcbiAqIGZhZGUtdXAsIGZhZGUtZG93biwgZmFkZS1sZWZ0LCBmYWRlLXJpZ2h0XHJcbiAqIHNsaWRlLXVwLCBzbGlkZS1kb3duLCBzbGlkZS1sZWZ0LCBzbGlkZS1yaWdodFxyXG4qL1xyXG5cclxuY29uc3QgYnVpbHRJblRhcmdldHMgPSBbXHJcbiAge1xyXG4gICAgc2VsOiAnW2RhdGEtbW90aW9uXSdcclxuICB9XHJcbl1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGRlZmF1bHRzOiBkZWZhdWx0cyxcclxuICB0YXJnZXRzOiBidWlsdEluVGFyZ2V0cy5jb25jYXQodXNlclRhcmdldHMpXHJcbn1cclxuIiwiLyoqXHJcbiAqIG1haW4uanMgLSBKUyBlbnRyeSBwb2ludFxyXG4gKiBcclxuICogSWRlYWxseSB0aGlzIGZpbGUgaXMgdXNlZCBvbmx5IGZvciByZXF1aXJpbmcgXHJcbiAqIHRoZSBkaWZmZXJlbnQgbW9kdWxlcyB0aGF0IG1ha2UgdXAgdGhpcyBhcHBsaWNhdGlvbi5cclxuICogXHJcbiAqIENvbXBpbGVzIHRvIGJ1bmRsZS5qc1xyXG4gKi9cclxuXHJcbnJlcXVpcmUoJy4vbGliL2lvcG1vdGlvbi5qcycpO1xyXG4iXX0=
